<!DOCTYPE html>
<html>
<head>
	<meta charset=utf-8 />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<meta name="robots" content="noindex, nofollow">
	<title>Page de test pour les Web push</title>
	<style>
	body{	font-family:"Open Sans", sans-serif; font-size: 14px; background-color: #eeeeee;}
	.container{	width: 800px;	margin:0 auto; padding:15px; background-color: #ffffff; border-radius: 5px;}
	.text-center{ text-align: center; }
	.form-textbox, input{ padding:5px;font-size: 14px;}
	.exemples { padding:10px 0;}
	.exemples div:first-child { width:50%; float:left;}
	.exemples div { text-align:center;}
	</style>
  <!-- Début - Code Web push Dialog Insight -->
	<!-- Copiez-collez le code fourni dans la page de configuration sur Dialog Insight -->

  <!-- Fin - Code Web push Dialog Insight -->
</head>
<body>
<script src="https://www.gstatic.com/firebasejs/5.4.1/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/5.4.1/firebase-messaging.js"></script>
<script src="https://lightspeed.dev.ofsys.com/T/OFC4/WPS/19329/11854/r5H2E1rnsLb7qK7lZwEp3XxbEL9geRWb/DI.WebPush-min.js"></script>
<div class="container">
	<img src="https://cdn.ofsys.com/T/OFSYS/H/C2/1255324/y1wjIJ/logo-di-green-grey-148x53.png" alt"Dialog Insight" />
	<h2>Page de test pour les Web push</h2>
	<p>Utilisez cette page afin de tester le fonctionnement avant de faire l'intégration à votre site Web.</p>
	<p>Cette page ne fonctionne pas localement. Vous devez d'abord suivre ces étapes :</p>
	<ul>
		<li>Dans le code HTML de cette page, copiez-collez le code fourni à la page de configuration sur Dialog Insight.</li>
		<li>Téléverser le fichier "DI.WebPush-sw.js", fourni à la page de configuration sur Dialog Insight, à la racine de votre site.</li>
		<li>Téléverser cette page de test sur votre site Web.</li>
		<li>Visitez cette page de test à partir de votre navigateur.</li>
	</ul>
  <p><strong>Exemple - onclick="DI.WebPush.RequestPermission('LanguageCode');"</strong><br />
	Pour déclencher la demande d'autorisation du navigateur avec un button :<br />
	<div style="text-align:center;">
		<input type="button" value="Je désire recevoir les notifications en FR" onclick="DI.WebPush.RequestPermission('fr');" /><br />
		<input type="button" value="Je désire recevoir les notifications en EN" onclick="DI.WebPush.RequestPermission('en');" /><br />
	</div>
	</p>
	<div class="exemples">
		<div>Autorisation Chrome<br /><img src="https://cdn.dialoginsight.com/OFSYS/admin/webpush/WebPush-Browser-Authorization-Chrome.jpg" /></div>
		<div>Autorisation Firefox<br /><img src="https://cdn.dialoginsight.com/OFSYS/admin/webpush/WebPush-Browser-Authorization-Firefox.jpg" /></div>
	</div>
	<p><strong>Note</strong><br />Si la demande d'autorisation du navigateur ne s'affiche pas, c’est qu’elle est déjà Autorisée ou Bloquée.
	Assurez-vous d’avoir choisi la valeur « Demander », dans Chrome, ou de n’avoir choisi aucune valeur, dans Firefox :</p>

	<div class="exemples">
		<div>Chrome<br /><img src="https://cdn.dialoginsight.com/OFSYS/admin/webpush/WebPush-Browser-Permission-Chrome.jpg" /></div>
		<div>Firefox<br /><img src="https://cdn.dialoginsight.com/OFSYS/admin/webpush/WebPush-Browser-Permission-Firefox.jpg" /></div>
	</div>

	<h2>Identifier un contact connu de votre projet (liste de contacts) Dialog Insight<br / >(méthode avancée)</h2>
	<p>Dans le code Javascript fourni, une fonction est disponible afin que vous puissiez identifier les abonnés si vous avez déjà des informations à leur sujet.
	Par exemple, si votre site permet au visiteur de se connecter, vous avez donc déjà quelques informations comme le courriel, prénom, nom. Vous
	pouvez utiliser la fonction Javascript "DI.WebPush.Identify" afin d'identifier l'abonnement au contact qui est présent dans votre liste de contact sur Dialog Insight.</p>

	<p><strong>Fonction</strong><br />
	DI.WebPush.Identify('f_CodeDuChampClé', 'Valeur');<br /><br />
	<strong>Paramètres</strong><br />
	"f_CodeDuChampClé" : Code du champ "clé unique". Vous pouvez trouver cette information à la page de configuration des champs de votre projet. Si votre projet contient
	plus d'un clé unique, vous ne pourrez pas utiliser cette méthode d'identificaton.<br />
	"Valeur" : Valeur à trouver dans la liste de contacts (votre projet) pour identifier le contact.
	</p>

	<strong>Exemple - Pour le champ clé unique courriel (f_EMail)</strong>
	<ol>
		<li>Ajoutez le contact dans votre projet Dialog Insight.</li>
		<li>Tapez la valeur dans le champ suivant et cliquez sur « Identifier ».</li>
		<li>Vous devriez voir 1 contact de plus reconnu sur Dialog Insight, affiché à la liste des sites configurés.</li>
	</ol>

	<p>Valeur du champ clé unique (courriel) : <input id="email" type="text" class="form-textbox" style="width:300px;" />
	<input type="button" value="Identifier l'abonné" onclick="DI.WebPush.Identify('f_EMail', document.getElementById('email').value);" /></p>

</div><br /><br /> <br />
</body>
</html>
